# system.yaml — C1 System Definition Schema
# Defines a human-facing KERI service within an ecosystem.
# Produced by /keri-c1-system, consumed by /keri-c2-service-infrastructure.
#
# Example: A "VerifyMe" identity protection service in a financial services ecosystem.

version: "1.0"

# --- System Identity ---
# What is this service called and where does it live?
system:
  name: ""                    # kebab-case identifier (e.g., "verify-me")
  display_name: ""            # Human-readable name (e.g., "VerifyMe")
  description: ""             # One-sentence plain-language description
  ecosystem:
    name: ""                  # Reference to ecosystem.yaml name (e.g., "financial-services")

# --- Service Definition ---
# What kind of service is this and what value does it deliver?
service:
  # Which canonical pattern best describes this service?
  # identity-lifecycle         — secure digital identity management
  # credential-verification    — instant background checks / credential validation
  # marketplace-trust          — portable reputation system
  # compliance-as-a-service    — automated regulatory compliance
  # custom                     — none of the above; describe in value_proposition
  pattern: ""

  # Plain-language description of why a human would pay for this.
  # No KERI jargon. Write as if explaining to a non-technical executive.
  # Example: "Prove your identity without sharing documents"
  value_proposition: ""

  # --- Business Model ---
  business_model:
    # subscription | per-transaction | enterprise | freemium
    type: ""
    pricing_notes: ""         # Free-text pricing details (e.g., "$5/month basic, $25/month premium")

  # --- User Journeys ---
  # Each journey describes how a specific actor accomplishes a goal.
  # Capture 3-5 journeys covering the primary use cases.
  user_journeys:
    - name: ""                # Journey name (e.g., "First-time identity setup")
      actor: ""               # Who performs this journey (e.g., "Individual consumer")
      steps:
        - step_number: 1
          action: ""          # What the human does (plain language)
          keri_operation: ""  # What KERI operation this maps to (e.g., "AID inception")

  # --- SLA Requirements ---
  # How fast and reliable must this service be?
  sla:
    availability: ""          # Target uptime (e.g., "99.9%")
    latency_p99: ""           # 99th percentile response time (e.g., "500ms")
    throughput: ""             # Peak load (e.g., "1000 req/s")
    recovery_time: ""         # Max acceptable downtime (e.g., "4 hours")

# --- KERI Infrastructure Requirements ---
# Which KERI components does this service need?
# Derived from user journeys — each boolean maps to a C2 infrastructure stack.
keri_requirements:
  agent_service: false        # Needs KERIA agent (AID management, wallet, delegation)
  witness_pool: false         # Needs witness cluster (event receipting, first-seen)
  watcher_network: false      # Needs watcher nodes (duplicity detection, ambient verification)
  acdc_registry: false        # Needs ACDC registry + TEL (credential issuance/revocation)
  judge_jury: false           # Needs judge/jury service (duplicity evidence aggregation)
  frontend: false             # Needs user-facing web/mobile UI

  # Which credential types from the ecosystem does this service handle?
  # Reference credential_id values from ecosystem.yaml's credential_schemas[].
  credentials_handled: []     # e.g., ["government-id-verification", "proof-of-address"]

# --- Integration Points ---
# What external systems does this service connect to?
integrations:
  - name: ""                  # Integration name (e.g., "Government ID Database")
    # api | database | keri-service | webhook
    type: ""
    # inbound | outbound | bidirectional
    direction: ""
    description: ""           # What data flows and why

# --- Infrastructure Stacks ---
# Populated by C2 (/keri-c2-service-infrastructure). Leave empty at C1.
stacks: []
  # - name: ""               # Stack name (e.g., "keri-agent-service")
  #   type: ""               # Stack type (e.g., "agent-service")
